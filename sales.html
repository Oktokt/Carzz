<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>عرض المبيعات</title>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    table { width: 100%; border-collapse: collapse; }
    th, td { padding: 10px; border: 1px solid #ccc; text-align: right; }
    th { background-color: #f2f2f2; }
    @media (max-width: 600px) {
      table, thead, tbody, th, td, tr { display: block; }
      td { border: none; border-bottom: 1px solid #ddd; }
      td::before { content: attr(data-label); font-weight: bold; display: block; }
    }
  </style>
</head>
<body>
  <h2>عرض المبيعات السابقة</h2>
  <table id="salesTable">
    <thead>
      <tr>
        <th>التاريخ</th>
        <th>الوقت</th>
        <th>الصنف</th>
        <th>السعر</th>
        <th>ملاحظات</th>
        <th>نوع العميل</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <script>
    const scriptURL = 'https://script.google.com/macros/s/AKfycbwsgEB2gcfp_PXK3c0hyB7qfShc8tRe4QaOcBMxxmwVoUliU5WTGeBfemUGJcPkHP05/exec'; // <<<< Replace this too!

    fetch(scriptURL)
      .then(res => res.json())
      .then(data => {
        const tbody = document.querySelector("#salesTable tbody");
        data.forEach(row => {
          const tr = document.createElement("tr");
          row.forEach((cell, i) => {
            const td = document.createElement("td");
            td.setAttribute("data-label", ["التاريخ", "الوقت", "الصنف", "السعر", "ملاحظات", "نوع العميل"][i]);
            td.textContent = cell;
            tr.appendChild(td);
          });
          tbody.appendChild(tr);
        });
      })
      .catch(err => {
        document.body.innerHTML += `<p style="color:red;">فشل تحميل البيانات</p>`;
      });
  </script>
</body>
</html>
